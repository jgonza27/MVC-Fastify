{% extends "layouts/main.njk" %}

{% block description %}Gestión de cookies{% endblock %}
{% block title %}Cookies{% endblock %}

{% block content %}
<div class="page-header">
  <h1>Gestión de Cookies</h1>
  <p class="subtitle">Demostración de lectura, escritura y eliminación de cookies</p>
</div>

<div class="card form-card">
  <h2>Establecer Cookies</h2>
  <form action="/cookies" method="POST" class="form">
    <div class="form-group">
      <label for="theme" class="form-label">Tema preferido</label>
      <select id="theme" name="theme" class="form-input">
        <option value="">-- Seleccionar --</option>
        <option value="light" {% if userCookies.theme == 'light' %}selected{% endif %}>Claro</option>
        <option value="dark" {% if userCookies.theme == 'dark' %}selected{% endif %}>Oscuro</option>
        <option value="blue" {% if userCookies.theme == 'blue' %}selected{% endif %}>Azul</option>
      </select>
    </div>
    <div class="form-group">
      <label for="language" class="form-label">Idioma preferido</label>
      <select id="language" name="language" class="form-input">
        <option value="">-- Seleccionar --</option>
        <option value="es" {% if userCookies.language == 'es' %}selected{% endif %}>Español</option>
        <option value="en" {% if userCookies.language == 'en' %}selected{% endif %}>Inglés</option>
        <option value="fr" {% if userCookies.language == 'fr' %}selected{% endif %}>Francés</option>
      </select>
    </div>
    <div class="form-actions">
      <button type="submit" name="action" value="save" class="btn btn-primary">Guardar Cookies</button>
      <button type="submit" name="action" value="clear" class="btn btn-danger">Eliminar Cookies</button>
    </div>
  </form>
</div>

<div class="card">
  <h2>Cookies Actuales</h2>
  {% if userCookies.theme or userCookies.language %}
    <table class="table">
      <thead>
        <tr>
          <th>Nombre</th>
          <th>Valor</th>
        </tr>
      </thead>
      <tbody>
        {% if userCookies.theme %}
          <tr>
            <td><code>theme</code></td>
            <td>{{ userCookies.theme }}</td>
          </tr>
        {% endif %}
        {% if userCookies.language %}
          <tr>
            <td><code>language</code></td>
            <td>{{ userCookies.language }}</td>
          </tr>
        {% endif %}
      </tbody>
    </table>
  {% else %}
    <p class="text-center text-muted">No hay cookies establecidas. Usa el formulario para crear algunas.</p>
  {% endif %}
</div>
{% endblock %}
